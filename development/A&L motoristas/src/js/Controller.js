var enviosEchos = [
    {
        codigo:"ab0012",
        nombreCliente:"Jose Martinez",
        direccion:"USA,Calorina del norte",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"estufa",
                descripcion:"ninguna",
                precio:19090,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab0314",
        nombreCliente:"Martin quintanilla",
        direccion:"USA,New York",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"USA,Calorina del norte",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"USA,Calorina del norte",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"USA,Calorina del norte",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"USA,Calorina del norte",
        horaDeEntrega:"12:30 pm",
        fechaDeEntrega:"10/10/2022",
        motorista:"yo",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
];


var enviosNoTomados = [
    {
        codigo:"ab0012",
        nombreCliente:"Jose Martinez",
        direccion:"USA,Calorina del norte",
        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"estufa",
                descripcion:"ninguna",
                precio:19090,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab0314",
        nombreCliente:"Martin quintanilla",
        direccion:"USA,New York",
        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"USA,Calorina del norte",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab046",
        nombreCliente:"Marcos reina",
        direccion:"Mexico,Guadalajara",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab47",
        nombreCliente:"Marcos reina",
        direccion:"Mexico,Guadalajara",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab478",
        nombreCliente:"Julio Iglesias",
        direccion:"Honduras,Cortes",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
];

var enviosTomadosNoEntregados = [
    {
        codigo:"ab0012",
        nombreCliente:"Alex Paz",
        direccion:"China,Honk Kong",
        motorista:"yo",
        procesodeEnvio:"tomada",

        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"estufa",
                descripcion:"ninguna",
                precio:19090,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab0314",
        nombreCliente:"Luis Miguel",
        direccion:"Honduras,Olancho",
        motorista:"yo",
        procesodeEnvio:"tomada",
        productos:[
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Leo Messi",
        direccion:"Argentina,Buenos Aires",
        motorista:"yo",
        procesodeEnvio:"tomada",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"Mexico,Guadalajara",
        motorista:"yo",
        procesodeEnvio:"en camino",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"Mexico,Guadalajara",
        motorista:"yo",
        procesodeEnvio:"en camino",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
    {
        codigo:"ab032",
        nombreCliente:"Marcos reina",
        direccion:"Mexico,Guadalajara",
        motorista:"yo",
        procesodeEnvio:"en camino",
        productos:[
            {
                nombreProducto:"juguete",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"laptop hp",
                descripcion:"ninguna",
                precio:1440,
            },
            {
                nombreProducto:"aire acondicionado",
                descripcion:"ninguna",
                precio:3131,
            },
            {
                nombreProducto:"televisor sonic",
                descripcion:"ninguna",
                precio:3131,
            }
        ]
    },
];

var validacionCorreo = function(etiqueta){
    if(etiqueta.value.match(`^[a-zA-Z0-9.!#$%&'*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$`)){
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoValido');
    }else{
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoNoValido');
    }
}

var validacionContraseña = function(etiqueta){
    if(etiqueta.value.match(`^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-_]).{8,}$`)){
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoValido');
    }else{
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoNoValido');
    }
}

var confirmarContraseña = function(etiqueta){
    let contraseña = document.getElementById('inputPassword');
    if(etiqueta.value==(contraseña.value)){
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoValido');
    }else{
        etiqueta.classList.remove('campoValido');
        etiqueta.classList.remove('campoNoValido');
        etiqueta.classList.add('campoNoValido');
    }
}

var validarCamposVaciosInicioSesion = function(){
    let email = document.getElementById('inputEmail-login');
    let contraseña = document.getElementById('inputPassword-login');

    if (email.value=='') {
        email.classList.remove('campoValido');
        email.classList.remove('campoNoValido');
        email.classList.add('campoNoValido');
    }else{
        email.classList.remove('campoValido');
        email.classList.remove('campoNoValido');
        email.classList.add('campoValido');
    }

    if (contraseña.value=='') {
        contraseña.classList.remove('campoValido');
        contraseña.classList.remove('campoNoValido');
        contraseña.classList.add('campoNoValido');
    }else{
        contraseña.classList.remove('campoValido');
        contraseña.classList.remove('campoNoValido');
        contraseña.classList.add('campoValido');
    }
}

var validarCamposVaciosCrearCuenta = function(){
    let email = document.getElementById('inputEmail');
    let contraseña = document.getElementById('inputPassword');
    let nombre=document.getElementById('inputName');
    let apellido=document.getElementById('inputLastName');
    let confirmarcontrasenia=document.getElementById('confirmPassword');

    if (email.value=='') {
        email.classList.remove('campoValido');
        email.classList.remove('campoNoValido');
        email.classList.add('campoNoValido');
    }else{
        email.classList.remove('campoValido');
        email.classList.remove('campoNoValido');
        email.classList.add('campoValido');
    }

    if (contraseña.value=='') {
        contraseña.classList.remove('campoValido');
        contraseña.classList.remove('campoNoValido');
        contraseña.classList.add('campoNoValido');
    }else{
        contraseña.classList.remove('campoValido');
        contraseña.classList.remove('campoNoValido');
        contraseña.classList.add('campoValido');
    }

    if (nombre.value=='') {
        nombre.classList.remove('campoValido');
        nombre.classList.remove('campoNoValido');
        nombre.classList.add('campoNoValido');
    }else{
        nombre.classList.remove('campoValido');
        nombre.classList.remove('campoNoValido');
        nombre.classList.add('campoValido');
    }

    if(apellido.value==''){
        apellido.classList.remove('campoValido');
        apellido.classList.remove('campoNoValido');
        apellido.classList.add('campoNoValido');
    }else{
        apellido.classList.remove('campoValido');
        apellido.classList.remove('campoNoValido');
        apellido.classList.add('campoValido');
    }

    if(confirmarcontrasenia.value==''){
        confirmarcontrasenia.classList.remove('campoValido');
        confirmarcontrasenia.classList.remove('campoNoValido');
        confirmarcontrasenia.classList.add('campoNoValido');
    }else{
        confirmarcontrasenia.classList.remove('campoValido');
        confirmarcontrasenia.classList.remove('campoNoValido');
        confirmarcontrasenia.classList.add('campoValido');
    }

}

var validarCampoVacio = function(etiqueta){
 if(etiqueta.value==''){
    etiqueta.classList.remove('campoValido');
    etiqueta.classList.remove('campoNoValido');
    etiqueta.classList.add('campoNoValido');
 } else{
    etiqueta.classList.remove('campoValido');
    etiqueta.classList.remove('campoNoValido');
    etiqueta.classList.add('campoValido');
 }  
}

var llenarEnviosEchos = function(){
    let espacio = document.getElementById('envios-echos');
    espacio.innerHTML=' ';
    $.ajax({
        url: "/motoristas/pedidos", 
        method: "GET",
        dataType: "json",
        success:(res)=>{
            
                res.forEach(element => {     
                    if(element.estado=='Entregada'){

                        espacio.innerHTML+=`
                    <div class="envios">
                        <section><i class="fa-solid fa-location-dot"></i>${element.ubicacion}</section>
                        <button class="ver-pedido" onclick="verFactura(this)" value="${element.numeroPedido}">ver pedido</button>
                    </div>
                `      
                    }    
                          })
         },
        error:(error)=>{
            console.log(error);
        } 
    });
}

llenarEnviosEchos();

var llenarEnviosNoTomados = function(){
    let espacio = document.getElementById('envios-no-tomados');
    espacio.innerHTML=' ';

    $.ajax({
        url: "/motoristas/pedidos", 
        method: "GET",
        dataType: "json",
        success:(res)=>{
            
                res.forEach(element => {     
                    if(element.estado=='No aceptado'){
                        espacio.innerHTML+=`
                        <div class="envios">
                        <section><i class="fa-solid fa-location-dot"></i>${element.ubicacion}</section>
                        <button class="ver-pedido" onclick="verPedidoDisponible(this)" value="${element.numeroPedido}">ver pedido</button>
                        </div>
`     
                    }    
                          })
         },
        error:(error)=>{
            console.log(error);
        } 
    });
}

llenarEnviosNoTomados();

var llenarEnviosTomadosNoEntregados = function(){
    let espacio = document.getElementById('envios-tomados-no-realizados');
    espacio.innerHTML=' ';

    $.ajax({
        url: "/motoristas/pedidos", 
        method: "GET",
        dataType: "json",
        success:(res)=>{
            
                res.forEach(element => {     
                    if((element.estado!='No aceptado') && (element.estado!='Entregada')){
                        espacio.innerHTML+=`
                        <div class="envios">
                        <section><i class="fa-solid fa-location-dot"></i>${element.ubicacion}</section>
                        <button class="ver-pedido" onclick="verPedidoPendiente(this)" value="${element.numeroPedido}">ver pedido</button>
                        </div>
                        `
                    }
                    
                    
                          })
         },
        error:(error)=>{
            console.log(error);
        } 
    });
}

llenarEnviosTomadosNoEntregados();



var verFactura = function(etiqueta){

    let contenidoModal = document.getElementById('myModal');

    contenidoModal.innerHTML=`
    
        <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Factura Pedido  ${etiqueta.value}</h5>
        </div>
        <div class="modal-body">
        <i class="fa-solid fa-cart-shopping"></i>
        ${buscarPorCodigoPedidosEchos(etiqueta.value)}
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-cerrar" data-bs-dismiss="modal">Cerrar</button>
        </div>
        </div>
        </div>    
    
    `;



    const myModal = new bootstrap.Modal(document.getElementById('myModal'));
    myModal.show();
}


var buscarPorCodigoPedidosEchos = function(codigo){
for (let index = 0; index < enviosEchos.length; index++) {
    if(enviosEchos[index].codigo==codigo){

    
        let cadenaProductos='';
        let cadenaPrecios='';

        enviosEchos[index].productos.forEach(element => {
            cadenaProductos+=`
            <div class="producto">
            ${element.nombreProducto}
            </div>
            `
            cadenaPrecios+=`
            <div class="precio">
            ${element.precio}
            </div>
            `
        });



        let contenidotag=`
        <section class="ProductosYPrecio">
        <div class="productos">
        Productos
        ${cadenaProductos}
        </div>
        <div class="precios">
        Precio
        ${cadenaPrecios}
        </div>
        </section>
        <section class="DescripcionPedido">
        <div>
        Nombre Del Cliente: ${enviosEchos[index].nombreCliente}
        </div>
        <div>
        Direccion: ${enviosEchos[index].direccion}
        </div>
        <div>
        Nombre Del Motorista: ${enviosEchos[index].motorista}
        </div>
        <div>
        Fecha De Entrega: ${enviosEchos[index].fechaDeEntrega}
        </div>
        <div>
        Hora De Entrega: ${enviosEchos[index].horaDeEntrega}
        </div>
        </section> 
        `
        ;

        return contenidotag;
    }
}
}


var verPedidoDisponible = function(etiqueta){

    let contenidoModal = document.getElementById('myModal');

    contenidoModal.innerHTML=`
    
        <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Pedido  ${etiqueta.value}</h5>
        </div>
        <div class="modal-body">
        <i class="fa-solid fa-cart-shopping"></i>
        ${buscarPorCodigoPedidoDisponible(etiqueta.value)}
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-cerrar" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-aceptar" data-bs-dismiss="modal">Tomar Orden</button>
        </div>
        </div>
        </div>    
    
    `;



    const myModal = new bootstrap.Modal(document.getElementById('myModal'));
    myModal.show();
}

var buscarPorCodigoPedidoDisponible = function(codigo){
    for (let index = 0; index < enviosNoTomados.length; index++) {
        if(enviosNoTomados[index].codigo==codigo){
    
        
            let cadenaProductos='';
            let cadenaPrecios='';
    
            enviosNoTomados[index].productos.forEach(element => {
                cadenaProductos+=`
                <div class="producto">
                ${element.nombreProducto}
                </div>
                `
                cadenaPrecios+=`
                <div class="precio">
                ${element.precio}
                </div>
                `
            });
    
    
    
            let contenidotag=`
            <section class="ProductosYPrecio">
            <div class="productos">
            Productos
            ${cadenaProductos}
            </div>
            <div class="precios">
            Precio
            ${cadenaPrecios}
            </div>
            </section>
            <section class="DescripcionPedido">
            <div>
            Nombre Del Cliente: ${enviosNoTomados[index].nombreCliente}
            </div>
            <div>
            Direccion: ${enviosNoTomados[index].direccion}
            </div>
            </section> 
            `
            ;
    
            return contenidotag;
        }
    }
    }

 var verPedidoPendiente = function(etiqueta){

        let contenidoModal = document.getElementById('myModal');
    
        contenidoModal.innerHTML=`
        
            <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Pedido Pendiente ${etiqueta.value}</h5>
            </div>
            <div class="modal-body">
            <i class="fa-solid fa-cart-shopping"></i>
            ${buscarPorCodigoPedidoPendiente(etiqueta.value)}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-cerrar" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-aceptar" onclick="verFormularioProcesoEnvio('${etiqueta.value}')">Actualizar Progreso De Envio</button>
            </div>
            </div>
            </div>    
        
        `;
    
    
    
        const myModal = new bootstrap.Modal(document.getElementById('myModal'));
        myModal.show();
    }
    
var buscarPorCodigoPedidoPendiente = function(codigo){
        for (let index = 0; index < enviosTomadosNoEntregados.length; index++) {
            if(enviosTomadosNoEntregados[index].codigo==codigo){
        
            
                let cadenaProductos='';
                let cadenaPrecios='';
        
                enviosTomadosNoEntregados[index].productos.forEach(element => {
                    cadenaProductos+=`
                    <div class="producto">
                    ${element.nombreProducto}
                    </div>
                    `
                    cadenaPrecios+=`
                    <div class="precio">
                    ${element.precio}
                    </div>
                    `
                });
        
        
        
                let contenidotag=`
                <section class="ProductosYPrecio">
                <div class="productos">
                Productos
                ${cadenaProductos}
                </div>
                <div class="precios">
                Precio
                ${cadenaPrecios}
                </div>
                </section>
                <section class="DescripcionPedido">
                <div>
                Nombre Del Cliente: ${enviosTomadosNoEntregados[index].nombreCliente}
                </div>
                <div>
                Direccion: ${enviosTomadosNoEntregados[index].direccion}
                </div>
                <div>
                Motorista: ${enviosTomadosNoEntregados[index].motorista}
                </div>
                </section> 
                `
                ;
        
                return contenidotag;
            }
        }
        }


var  verFormularioProcesoEnvio = function(codigo){
    let contenidoModal = document.getElementById('myModal');
    
    contenidoModal.innerHTML=`
    
        <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Proceso del Pedido ${codigo}</h5>
        </div>
        <div class="modal-body">
        <button type="button" class="btn btn-actualizar" disabled="true">Tomada</button>
        <button type="button" class="btn btn-actualizar" disabled="true" onclick="actualizarProceso('${codigo}')">En El Origen</button>
        <button type="button" class="btn btn-actualizar" disabled="true" onclick="actualizarProceso('${codigo}')">En Camino</button>
        <button type="button" class="btn btn-actualizar" disabled="true" onclick="actualizarProceso('${codigo}')">En El Destino</button> 
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-cerrar" data-bs-dismiss="modal">Cerrar</button>
        </div>
        </div>
        </div>    
    
    `;

    buscarPorCodigoProcesoEnvio(codigo);
}

var buscarPorCodigoProcesoEnvio = function(codigo){
    let botones = document.getElementsByClassName('btn-actualizar');

    for (let index = 0; index < enviosTomadosNoEntregados.length; index++) {
        if(enviosTomadosNoEntregados[index].codigo==codigo){
            if(enviosTomadosNoEntregados[index].procesodeEnvio=='tomada'){
                botones[1].disabled=false;
            }
            if(enviosTomadosNoEntregados[index].procesodeEnvio=='en el origen'){
                botones[1].disabled=true;
                botones[2].disabled=false;

            }
            if(enviosTomadosNoEntregados[index].procesodeEnvio=='en camino'){
                botones[2].disabled=true;
                botones[3].disabled=false;

            }
            if(enviosTomadosNoEntregados[index].procesodeEnvio=='en el destino'){
                botones[3].disabled=true;
            }
            break;
        }
    }
    }

    var actualizarProceso = function(codigo){    
        for (let index = 0; index < enviosTomadosNoEntregados.length; index++) {
            if(enviosTomadosNoEntregados[index].codigo==codigo){
                console.log(enviosTomadosNoEntregados[index].procesodeEnvio);
                if(enviosTomadosNoEntregados[index].procesodeEnvio=='en camino'){
                    enviosTomadosNoEntregados[index].procesodeEnvio='en el destino';
                }
                if(enviosTomadosNoEntregados[index].procesodeEnvio=='en el origen'){
                    enviosTomadosNoEntregados[index].procesodeEnvio='en camino';
    
                }
                if(enviosTomadosNoEntregados[index].procesodeEnvio=='tomada'){
                    enviosTomadosNoEntregados[index].procesodeEnvio='en el origen';
                }
                buscarPorCodigoProcesoEnvio(codigo);
                console.log(enviosTomadosNoEntregados[index].procesodeEnvio);
                break;
              
            }
        }
  

}